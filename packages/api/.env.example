# -----------------------------------------------------------------------------
# Runtime & networking
# -----------------------------------------------------------------------------
# TCP port exposed by the API process inside the container.
PORT=3000
# Node runtime environment label (switch to production for deployment).
NODE_ENV=development
# Public domain served by nginx and certbot during deployments.
APP_DOMAIN=localhost
# Contact email used when requesting Let's Encrypt certificates.
SSL_EMAIL=hello@hexabot.ai
# External URL exposed by the API container (used for links in emails, etc.).
API_ORIGIN=http://localhost:3000/api
# Public origin for the web UI that nginx should proxy.
FRONTEND_BASE_URL=http://localhost:8080
# Comma-separated list of origins allowed by CORS and Socket.IO.
FRONTEND_ORIGIN=http://localhost:8080,http://localhost:3000,http://localhost:5173
# Enables optional single-sign-on integrations.
SSO_ENABLED=false
# Set to true when TLS is terminated before the API (affects trust proxy and cookies).
HTTPS_ENABLED=false
# Only the primary API node should run auto-migrations in a clustered setup.
API_IS_PRIMARY_NODE=true
# Translation file name (without extension) loaded by the i18n subsystem.
I18N_TRANSLATION_FILENAME=messages
# Enables Nest Commander CLI execution when set to true.
HEXABOT_CLI=false

# -----------------------------------------------------------------------------
# Sessions & security
# -----------------------------------------------------------------------------
# Secret used to sign and encrypt Sails sessions; always change in production.
SESSION_SECRET=f661ff500fff6b0c8f91310b6fff6b0c
# Name of the session cookie shared across the stack.
SESSION_NAME=s.id
# Session cookie lifetime in milliseconds (default 24h).
SESSION_MAX_AGE=86400000
# Number of sessions cleaned per sweep (0 disables the limit).
SESSION_CLEANUP_LIMIT=0
# Allows using SQL subqueries during session cleanup (disable for SQLite).
SESSION_LIMIT_SUBQUERY=true
# TTL (in seconds) enforced by the session store; uncomment to override cookie lifetime.
# SESSION_TTL_SECONDS=86400
# Cost factor for hashing secrets (used by JWTs and signed URLs).
SALT_LENGTH=12
# Secret used to sign user authentication JWTs.
JWT_SECRET=dev_only
# Expiration for auth JWTs (supports ms or duration strings, e.g., 24h).
JWT_EXPIRES_IN=60
# Secret used to sign invitation links.
INVITATION_JWT_SECRET=dev_only
# Expiration for invitation tokens.
INVITATION_EXPIRES_IN=24h
# Secret used to sign password reset tokens.
PASSWORD_RESET_SECRET=dev_only
# Expiration for password reset tokens.
PASSWORD_RESET_EXPIRES_IN=1h
# Secret used to sign confirm-account tokens.
CONFIRM_ACCOUNT_SECRET=dev_only
# Expiration for confirm-account tokens.
CONFIRM_ACCOUNT_EXPIRES_IN=1h
# Secret used to sign public download URLs.
SIGNED_URL_SECRET=dev_only
# Expiration applied to signed download URLs.
SIGNED_URL_EXPIRES_IN=1h

# -----------------------------------------------------------------------------
# File uploads
# -----------------------------------------------------------------------------
# Directory (inside the container) where uploaded files are stored.
UPLOAD_DIR=/uploads
# Maximum allowed upload size in bytes (default 50 MB).
UPLOAD_MAX_SIZE_IN_BYTES=52428800
# Storage driver used by Multer (disk or memory).
STORAGE_MODE=disk

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# Allows the API to auto-run pending migrations on startup.
DB_AUTO_MIGRATE=true
# Database driver to use (postgres or sqlite).
DB_TYPE=sqlite
# Hostname of the Postgres instance.
DB_HOST=localhost
# Port exposed by the Postgres instance.
DB_PORT=5432
# Username for the Postgres database.
DB_USERNAME=dev_only
# Password for the Postgres database.
DB_PASSWORD=dev_only
# Name of the Postgres database to use.
DB_NAME=hexabot
# Absolute path (inside the container) to the SQLite file when DB_TYPE=sqlite.
DB_SQLITE_PATH=/app/data/hexabot.sqlite
# Optional connection string that overrides the discrete DB_* values when provided.
# DB_URL=postgresql://dev_only:dev_only@postgres:5432/hexabot
# Lets TypeORM auto-sync entities with the database schema (use only for dev).
DB_SYNCHRONIZE=true
# Enables verbose SQL logging from TypeORM.
DB_LOGGING=false
# Schema name used for Postgres connections.
DB_SCHEMA=public


# -----------------------------------------------------------------------------
# Cache / Redis
# -----------------------------------------------------------------------------
# Default TTL (milliseconds) for the in-memory cache.
CACHE_TTL=300000
# Switches the cache driver to Redis when set to true.
REDIS_ENABLED=false
# Hostname of the Redis instance (used when REDIS_ENABLED=true).
REDIS_HOST=localhost
# Port exposed by the Redis instance.
REDIS_PORT=6379
# Set to true when connecting to Redis over TLS (rediss://).
REDIS_SECURE=false
# Optional Redis username when ACLs are enabled.
REDIS_USER=
# Optional Redis password or access key.
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Email / SMTP
# -----------------------------------------------------------------------------
# Enables transactional emails (keep false locally unless smtp4dev is running).
EMAIL_SMTP_ENABLED=false
# SMTP host used to send transactional emails.
EMAIL_SMTP_HOST=smtp4dev
# SMTP port exposed by the server above.
EMAIL_SMTP_PORT=25
# Enforces TLS for SMTP connections when set to true.
EMAIL_SMTP_SECURE=false
# Username for the SMTP server.
EMAIL_SMTP_USER=dev_only
# Password for the SMTP server.
EMAIL_SMTP_PASS=dev_only
# Default from address for outgoing emails.
EMAIL_SMTP_FROM=noreply@example.com
